trigger:
  - none
  
parameters:  
  - name: destroyInfra
    displayName: "ðŸ”¥ Destroy Whole Infrastructure"
    type: boolean
    default: false
  
stages:
- stage: Deploy
  pool:
    name: Default
  jobs:
      - template: Template/stage-deploy-template.yaml
        parameters:
          resourceGroup: 'VOTING_RG'
          azureSubscription: 'Azure subscription 1'
          azureConnection: 'eVotingConnection'
          terraformResourceGroup: 'TERRAFORM_RG'
          terraformStorageAccount: 'terraformst2'
          destroyInfra: ${{ parameters.destroyInfra }}
